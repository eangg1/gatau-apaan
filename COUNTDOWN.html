<!DOCTYPE html>
<html lang="en">

<head>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Selamat Hari Raya</title>
    <meta name="description" content="Happy Eid Mubarak">
    <meta property="og:title" content="Happy Eid Mubarak" />
    <meta property="og:description" content="Happy Eid Mubarak">
    <link rel="shortcut icon" type="image/x-icon" href="Card-Logo.png">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div class="countdown-box" id="countdown">
        <p>THR Bisa Diambil Pada : 10 April 2024 09:00 WIB</p>
        <div id="timer"></div>
    </div>
    <script>
        // Set the date we're counting down to
        var countDownDate = new Date("April 10, 2024 9:00:00").getTime();

        // Update the countdown every 1 second
        var x = setInterval(function() {

            // Get the current date and time
            var now = new Date().getTime();

            // Calculate the remaining time
            var distance = countDownDate - now;

            // Calculate days, hours, minutes, and seconds
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the countdown
            var countdownElement = document.getElementById("timer");
            if (distance > 0) {
                countdownElement.innerHTML =  days + "h " + hours + "j " +
                    minutes + "m " + seconds + "d ";
            } else {
                clearInterval(x);
                countdownElement.innerHTML = "EXPIRED";
                window.location.href = "THR.html"; // Redirect to index.html
            }

        }, 1000);

        function requestNotificationPermission() {
    return new Promise(function(resolve, reject) {
        if (!('Notification' in window)) {
            reject(new Error('Browser does not support notifications'));
        } else if (Notification.permission === 'granted') {
            resolve();
        } else if (Notification.permission !== 'denied') {
            Notification.requestPermission().then(function(permission) {
                if (permission === 'granted') {
                    resolve();
                } else {
                    reject(new Error('Permission denied for notifications'));
                }
            });
        } else {
            reject(new Error('Permission denied for notifications'));
        }
    });
}

// Function to show a notification
function showNotification(title, options) {
    if ('Notification' in window && Notification.permission === 'granted') {
        return new Notification(title, options);
    }
}

// Request notification permission
requestNotificationPermission().then(function() {
    // Notification permission granted, show a notification
    var notification = showNotification('Selamat Hari Raya', {
        body: 'Ingin menambahkan alarm untuk 10 April 2024, 09:00 WIB?',
        icon: 'Card-Logo.png'
    });

    // Handle notification click event
    notification.onclick = function() {
        // Set the alarm here
        // Note: This part will depend on the specific alarm API or service you are using
        // For example, for a web-based alarm, you might need to use a third-party service
        alert('Alarm ditetapkan!');
    };
}).catch(function(error) {
    console.error('Failed to request notification permission:', error);
});


    </script>
</body>

</html>
